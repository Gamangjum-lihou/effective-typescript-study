# ğŸ” ì•„ì´í…œ 14 íƒ€ì… ì—°ì‚°ê³¼ ì œë„ˆë¦­ ì‚¬ìš©ìœ¼ë¡œ ë°˜ë³µ ì¤„ì´ê¸°

## âœ¨ ì˜ˆì œë¥¼ í†µí•´ ì•Œì•„ë³´ê¸°

ì›ê¸°ë‘¥ì˜ ë°˜ì§€ë¦„ê³¼ ë†’ì´, í‘œë©´ì , ë¶€í”¼ë¥¼ ì¶œë ¥í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. í•¨ìˆ˜, ìƒìˆ˜, ë£¨í”„ì˜ ë°˜ë³µì„ ì œê±°í•´ ì½”ë“œë¥¼ ê°œì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.
ì´ê²Œ ë°”ë¡œ ê°™ì€ ì½”ë“œë¥¼ ë°˜ë³µí•˜ì§€ ë§ë¼ëŠ” DRY(Don't repeat yourself) ì›ì¹™ì…ë‹ˆë‹¤.

```javascript
const surfaceArea = (r, h) => 2 * Math.PI * r * (r + h);
const volume = (r, h) => Math.PI * r * r * h;
for (const [r, h] of [
  [1, 1],
  [1, 2],
  [2, 1],
]) {
  console.log(
    `Cylinder ${r} * ${h}`,
    `Surface area : ${surfaceArea(r, h)}`,
    `Volume: ${volume(r, h)}`
  );
}
```

íƒ€ì… ì¤‘ë³µì€ ì¹´ë“œ ì¤‘ë³µë§Œí¼ ë§ì€ ë¬¸ì œë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤. íƒ€ì…ì—ì„œ ì¤‘ë³µì´ ë” í”í•œ ì´ìœ  ì¤‘ í•˜ë‚˜ëŠ” ê³µìœ ëœ íŒ¨í„´ì„ ì œê±°í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì´ ê¸°ì¡´ ì½”ë“œì—ì„œ í•˜ë˜ ê²ƒê³¼ ë¹„êµí•´ ëœ ìµìˆ™í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
íƒ€ì… ê°„ì— ë§¤í•‘í•˜ëŠ” ë°©ë²•ì„ ìµíˆë©´, íƒ€ì… ì •ì˜ì—ì„œë„ DRYì˜ ì¥ì ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ë°˜ë³µì„ ì¤„ì´ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ íƒ€ì…ì— ì´ë¦„ì„ ë¶™ì´ëŠ” ê²ƒì…ë‹ˆë‹¤.

```javascript
/// ì „
function distance(a: { x: number, y: number }, b: { x: number, y: number }) {
  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));
}
/// í›„
interface Point2D {
  x: number;
  y: number;
}
function distance(a: Point2D, b: point2D) {
  /** ... */
}
```

- í•¨ìˆ˜ê°€ ê°™ì€ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ë¥¼ ê³µìœ í•˜ê³  ìˆì„ ë•Œ í•´ë‹¹ ì‹œê·¸ë‹ˆì²˜ë¥¼ ëª…ëª…ëœ íƒ€ì…ìœ¼ë¡œ ë¶„ë¦¬í•˜ê¸°

```javascript
type HTTPFunction = (url: string, opts: Options) => Promise<Response>;
const get: HTTPFunction = (url, opts) => {
  /**...**/
};
const post: HTTPFunction = (url, opts) => {
  /**...**/
};
```

- í•œ ì¸í„°í˜ì´ìŠ¤ê°€ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•˜ê²Œ í•´ì„œ ë°˜ë³µì„ ì œê±°í•˜ê¸°
  - ë§Œì•½ ë‘ ì¸í„°í˜ì´ìŠ¤ê°€ í•„ë“œì˜ ë¶€ë¶„ ì§‘í•©ì„ ê³µìœ í•œë‹¤ë©´, ê³µí†µ í•„ë“œë§Œ ê³¨ë¼ì„œ ê¸°ë°˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íƒ€ì…ì„ í™•ì¥í•˜ëŠ” ê²½ìš°ì—, ì¼ë°˜ì ì´ì§€ëŠ” ì•Šì§€ë§Œ ì¸í„°ì„¹ì…˜ ì—°ì‚°ìë¥¼ ì“¸ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. -> ì´ëŸ° ê¸°ë²•ì€ ìœ ë‹ˆì˜¨ íƒ€ì…ì— ì†ì„±ì„ ì¶”ê°€í•˜ë ¤ê³  í•  ë•Œ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.

```javascript
interface Person {
  firstName: string;
  lastName: string;
}

interface PersonWithBirthDate extends Person {
  birth: Date;
}

type PersonWithBirthDate = Person & { birth: Date };
```

- í•œ íƒ€ì…ì„ ì¸ë±ì‹±í•˜ì—¬ ì†ì„±ì˜ íƒ€ì…ì—ì„œ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ë” ë‚˜ì•„ì§‘ë‹ˆë‹¤.
  - ë§¤í•‘ëœ íƒ€ì…ì€ ë°°ì—´ì˜ í•„ë“œë¥¼ ë£¨í”„ ë„ëŠ” ê²ƒê³¼ ê°™ì€ ë°©ì‹ì´ê¸° ë•Œë¬¸ì— Pickì´ë¼ëŠ” íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - Pickì€ ì œë„ˆë¦­ íƒ€ì…ì…ë‹ˆë‹¤.
    - Pickì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ ì…ë‹ˆë‹¤.
    - Pickì€ Tì™€ K ë‘ ê°€ì§€ íƒ€ì…ì„ ë°›ì•„ì„œ ê²°ê³¼ íƒ€ì…ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    - [ë˜ ë‹¤ë¥¸ ìœ í‹¸ë¦¬í‹° íƒ€ì… ë³´ëŸ¬ê°€ê¸°](https://merrily-code.tistory.com/164)

```javascript
interface State {
  userId: string;
  pageTitle: string;
  recentFiles: string[];
  pageContents: string;
}

interface TopNavState {
  userId: string;
  pageTitle: string;
  recentFiles: string[];
}

type RopNavState = {
  userId: State["userId"],
  pageTitle: State["pageTitle"],
  recentFiles: State["recentFiles"],
};

// ë§¤í•‘ëœ íƒ€ì…
type TopNavState {
  [k in 'userId' | 'pageTitle' | 'recentFiles']: State[k]
}

// Pick íŒ¨í„´
type Pick<T, K> = { [k in K]: T[k] };

```

- ë‹¨ìˆœíˆ íƒœê·¸ë¥¼ ë¶™ì´ê¸° ìœ„í•œ íƒ€ì…

```javascript
interface SaveAction {
  type: "save";
}
interface LoadAction {
  type: "load";
}

type Action = SaveAction | LoadAction;
type ActionType = "save" | "load";

// Action ìœ ë‹ˆì˜¨ì„ ì¸ë±ì‹±í•˜ë©´ íƒ€ì… ë°˜ë³µ ì—†ì´ ActionTypeì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
type ActionType = Action["type"];

// Action ìœ ë‹ˆì˜¨ì— íƒ€ì…ì„ ë” ì¶”ê°€í•˜ë©´ ActionTypeì€ ìë™ì ìœ¼ë¡œ ê·¸ íƒ€ì…ì„ í¬í•¨í•©ë‹ˆë‹¤.
type ActionRec = Pick<Action, "type">; // type: 'save' : 'load'
```

- ë§¤í•‘ëœ íƒ€ì…ê³¼ `keyof` ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µ ì œê±°í•˜ê¸°

```javascript
interface Options {
  width: number;
  height: number;
  color: string;
  label: string;
}

// keyof í‚¤ì›Œë“œ ì‚¬ìš©í•˜ê¸°
// ì´ íŒ¨í„´ì€ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— Partialì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
type OptionsUpdate = {[k in keyof Options]?: Options[k]}

class UIWidget {
  constructor(init: Options) {
    /* ... */
  }
  // Partial íŒ¨í„´ ì‚¬ìš©í•˜ê¸°
  update(options: Partial<Options>) {
    /*...*/
  }
}
```

- ê°’ì˜ í˜•íƒœì— í•´ë‹¹í•˜ëŠ” íƒ€ì…ì„ ì •ì˜í•˜ê¸°

```javascript
const INIT_OPTIONS = {
  width: 640,
  height: 480,
  color: "#00ff00",
  label: "VGA",
};
interface Options {
  width: number;
  height: number;
  color: string;
  label: string;
}

type Options = typeof INIT_OPTIONS;
```

- í•¨ìˆ˜ë‚˜ ë©”ì„œë“œì˜ ë°˜í™˜ ê°’ì— ëª…ëª…ëœ íƒ€ì… ë§Œë“¤ê¸°

ì•„ë˜ì˜ ì˜ˆì œì—ì„œ `ReturnType` ì€ í•¨ìˆ˜ì˜ ê°’ì¸ `getUserInfo` ê°€ ì•„ë‹ˆë¼ í•¨ìˆ˜ì˜ íƒ€ì…ì¸ `typeof getUserInfo` ì— ì ìš©ë©ë‹ˆë‹¤.

```javascript
function getUserInfo(userId: string) {
  return {
    userId,
    name,
    age,
    height,
    weight,
    favoriteColor,
  };
}
type UserInfo = ReturnType<typeof getUserInfo>;
```

## âœ¨ ì œë„ˆë¦­

ì œë„ˆë¦­ íƒ€ì…ì€ íƒ€ì…ì„ ìœ„í•œ í•¨ìˆ˜ì™€ ê°™ìŠµë‹ˆë‹¤. í•¨ìˆ˜ëŠ” ì½”ë“œì— ëŒ€í•œ DRY ì›ì¹™ì„ ì§€í‚¬ ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
ì œë„ˆë¦­ íƒ€ì…ì—ì„œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œí•œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ `extends` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. `extends` ë¥¼ ì´ìš©í•˜ë©´ ì œë„ˆë¦­ ë§¤ê°œë³€ìˆ˜ê°€ íŠ¹ì • íƒ€ì…ì„ í™•ì¥í•œë‹¤ê³  ì„ ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
interface Name {
  first: string;
  last: string;
}
typeDancingDuo<T extends Name> = [T, T];

const couple1: DancingDuo<Name> = [
  {first: 'Fred', last: 'Astaire'},
  {first: 'Ginger', last: 'Rogers'}
]; // OK
const couple2: DancingDuo<{first: string}> = [
  // 'Name' íƒ€ì…ì— í•„ìš”í•œ 'last' ì†ì„±ì´
  // {first: string} íƒ€ì…ì— ì—†ìŠµë‹ˆë‹¤.
  {first: 'Sonny'},
  {first: 'Cher'}
]
```

í˜„ì¬ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì„ ì–¸ë¶€ì— í•­ìƒ ì œë„ˆë¦­ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‘ì„±í•˜ë„ë¡ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì œë„ˆë¦­ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ê¸° ìœ„í•´, í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ë•ŒëŠ” ì‹ ì¤‘í•˜ê²Œ íƒ€ì…ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

## âœ¨ ìš”ì•½

- DRY ì›ì¹™ì„ íƒ€ì…ì—ì„œ ìµœëŒ€í•œ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- íƒ€ì…ì— ì´ë¦„ì„ ë¶™ì—¬ì„œ ë°˜ë³µì„ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.
- `extends`ë¥¼ ì‚¬ìš©í•´ì„œ ì¸í„°í˜ì´ìŠ¤ í•„ë“œì˜ ë°˜ë³µì„ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.
- íƒ€ì…ë“¤ ê°„ì˜ ë§¤í•‘ì„ ìœ„í•´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì œê³µí•œ ë„êµ¬ë¥¼ ê³µë¶€í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.
  - keyof, typeof, ì¸ë±ì‹±, ë§¤í•‘ëœ íƒ€ì…ë“¤
- ì œë„ˆë¦­ íƒ€ì…ì€ íƒ€ì…ì„ ìœ„í•œ í•¨ìˆ˜ì™€ ê°™ìŠµë‹ˆë‹¤.
